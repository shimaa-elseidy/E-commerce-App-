import './polyfills.server.mjs';
import{a as n}from"./chunk-E3EVZCWB.mjs";import{y as l}from"./chunk-OBCDUCAI.mjs";import{S as c,Y as p}from"./chunk-XICHFWCK.mjs";var o=class extends Error{};o.prototype.name="InvalidTokenError";function u(e){return decodeURIComponent(atob(e).replace(/(.)/g,(s,t)=>{let r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}function f(e){let s=e.replace(/-/g,"+").replace(/_/g,"/");switch(s.length%4){case 0:break;case 2:s+="==";break;case 3:s+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return u(s)}catch{return atob(s)}}function d(e,s){if(typeof e!="string")throw new o("Invalid token specified: must be a string");s||(s={});let t=s.header===!0?0:1,r=e.split(".")[t];if(typeof r!="string")throw new o(`Invalid token specified: missing part #${t+1}`);let a;try{a=f(r)}catch(i){throw new o(`Invalid token specified: invalid base64 for part #${t+1} (${i.message})`)}try{return JSON.parse(a)}catch(i){throw new o(`Invalid token specified: invalid json for part #${t+1} (${i.message})`)}}var U=(()=>{class e{constructor(){this._HttpClient=p(l),this.saveUser=null}signOut(t){return this._HttpClient.post(`${n.baseUrl}/api/v1/auth/signup`,t)}signIn(t){return this._HttpClient.post(`${n.baseUrl}/api/v1/auth/signin`,t)}saveUserToken(){let t=localStorage.getItem("userToken");if(t){this.saveUser=d(t);let r=this.saveUser.id;if(r)return localStorage.setItem("userId",r),r}return null}forgotPassword(t){return this._HttpClient.post(`${n.baseUrl}/api/v1/auth/forgotPasswords`,t)}sendcode(t){return this._HttpClient.post(`${n.baseUrl}/api/v1/auth/verifyResetCode`,t)}resetPassword(t){return this._HttpClient.put(`${n.baseUrl}/api/v1/auth/resetPassword`,t)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=c({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();export{U as a};
