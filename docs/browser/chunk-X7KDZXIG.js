import{c as F}from"./chunk-TGZNFPSG.js";import{l as R}from"./chunk-CZWYF673.js";import{a as M}from"./chunk-VZUT2HSF.js";import{a as O}from"./chunk-DAJIJWAN.js";import"./chunk-4VT6TJ2K.js";import{e as I,h as A}from"./chunk-5WYGOTPD.js";import{n as D}from"./chunk-LPJVVXA6.js";import{Bb as y,Cb as u,Kb as o,Lb as a,Pa as C,Rb as k,Sb as w,Ta as c,Xb as E,Zb as T,ca as s,fa as v,ib as m,kb as g,ob as p,pa as x,pb as P,qa as _,qb as S,rb as b,sb as e,tb as i,ub as d,xb as h}from"./chunk-QDCAKHSC.js";var B=()=>[1,2,3,4,5];function V(n,f){n&1&&(e(0,"span"),d(1,"i",15),i())}function j(n,f){n&1&&d(0,"i",11)}function z(n,f){if(n&1){let t=h();e(0,"section",0)(1,"h2",1),o(2,"Product Details"),i(),e(3,"div",2)(4,"div",3),d(5,"img",4),i(),e(6,"div",5)(7,"h3",6),o(8),i(),e(9,"small",7),o(10),i(),e(11,"h2",8),o(12),i(),e(13,"div",9)(14,"span",10),o(15),E(16,"currency"),i(),e(17,"div"),S(18,V,2,0,"span",null,P),m(20,j,1,0,"i",11),e(21,"span",12),o(22),i()()(),e(23,"button",13),y("click",function(){x(t);let l=u();return _(l.addToCart(l.specificProduct.id))}),o(24,"+Add to cart"),i(),e(25,"a",14)(26,"span",6),o(27,">>>"),i(),o(28," Click here to get all products "),e(29,"span",6),o(30,">>>"),i()()()()()}if(n&2){let t=u();c(5),g("src",t.specificProduct.imageCover,C)("alt",t.specificProduct.title),c(3),a(t.specificProduct.title),c(2),a(t.specificProduct.description),c(2),a(t.specificProduct.category.name),c(3),a(T(16,8,t.specificProduct.price,"EBP")),c(3),b(w(11,B).slice(0,t.specificProduct.ratingsAverage)),c(2),p(20,t.specificProduct.ratingsAverage%1!==0?20:-1),c(2),a(t.specificProduct.ratingsAverage)}}var W=(()=>{class n{constructor(){this._ActivatedRoute=s(I),this._HomeServiceService=s(M),this._CartService=s(O),this._ToastrService=s(R),this.specificProduct=null}ngOnInit(){this._ActivatedRoute.data.subscribe({next:t=>{this.specificProduct=t.details.data},error:t=>{console.log(t)}})}addToCart(t){this.productIdSub=this._CartService.addPropductToCart(t).subscribe({next:r=>{console.log(r),this._ToastrService.success("Product added successfully to your cart","Success",{positionClass:"toast-top-center",timeOut:3e3})},error:r=>{console.log(r),this._ToastrService.error("Failed to add product to cart.","Error")}})}ngOnDestroy(){this.productIdSub?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=v({type:n,selectors:[["app-product-detail"]],standalone:!0,features:[k],decls:1,vars:1,consts:[[1,"bg-main-light","rounded-4","my-3","mt-1","p-2","shadow"],[1,"text-main","fw-bolder","fs-5","my-3","text-center"],[1,"row","align-items-center"],[1,"col-md-3"],[1,"w-100",3,"src","alt"],[1,"col-md-9"],[1,"fw-bold"],[1,"text-muted","my-2","fw-bold"],[1,"text-main","small","fw-bold","mt-1"],[1,"d-flex","justify-content-between","align-items-center"],[1,"text-main","fw-bolder"],[1,"fas","fa-star-half-stroke","rating-color"],[1,"text-muted"],[1,"mb-4","btn","btn-main","mb-0","mt-5","w-100","rounded-3","mx-auto","d-block",3,"click"],["routerLink","/products",1,"customm-link"],[1,"fas","fa-star","rating-color"]],template:function(r,l){r&1&&m(0,z,31,12,"section",0),r&2&&p(0,l.specificProduct?0:-1)},dependencies:[F,D,A],styles:[".customm-link[_ngcontent-%COMP%]{display:inline-block;color:#ff0000dc!important;font-size:16px;cursor:pointer;transition:color .3s ease,transform .3s ease}.customm-link[_ngcontent-%COMP%]:hover{color:red!important;transform:scale(1.1)}.customm-link[_ngcontent-%COMP%]:active{transform:scale(.95)}.customm-link.disabled[_ngcontent-%COMP%]{color:#ccc;pointer-events:none;cursor:not-allowed;opacity:.6}"]})}}return n})();export{W as ProductDetailComponent};
