import{a as x}from"./chunk-4MYHNEH4.js";import{a as A,b as c,c as M,d as D,f as G,g as I,h as B,j as k,l as $}from"./chunk-KPIKQBSM.js";import"./chunk-4VT6TJ2K.js";import{g as V}from"./chunk-5WYGOTPD.js";import{h as L}from"./chunk-LPJVVXA6.js";import{Bb as N,Cb as S,Kb as o,Rb as q,Ta as n,Ub as y,ca as P,fa as T,ib as _,kb as h,ob as d,sb as r,tb as i,ub as F}from"./chunk-QDCAKHSC.js";var R=(t,m)=>({"is-valid":t,"is-invalid":m});function j(t,m){t&1&&(r(0,"small",17),o(1," Name Is Required "),i())}function O(t,m){t&1&&(r(0,"small",17),o(1," Name must be more than 3 characters"),i())}function Y(t,m){t&1&&(r(0,"small",17),o(1," Name must be less than 20 characters"),i())}function z(t,m){if(t&1&&(r(0,"div",5),_(1,j,2,0,"small",17)(2,O,2,0,"small",17)(3,Y,2,0,"small",17),i()),t&2){let l,a,e,s=S();n(),d(1,(l=s.registerForm.get("name"))!=null&&l.getError("required")?1:-1),n(),d(2,(a=s.registerForm.get("name"))!=null&&a.getError("minlength")?2:-1),n(),d(3,(e=s.registerForm.get("name"))!=null&&e.getError("maxlength")?3:-1)}}function H(t,m){t&1&&(r(0,"small",17),o(1," Email Is Required "),i())}function J(t,m){t&1&&(r(0,"small",17),o(1," Enter Valid Email"),i())}function K(t,m){if(t&1&&(r(0,"div",5),_(1,H,2,0,"small",17)(2,J,2,0,"small",17),i()),t&2){let l,a,e=S();n(),d(1,(l=e.registerForm.get("email"))!=null&&l.getError("required")?1:-1),n(),d(2,(a=e.registerForm.get("email"))!=null&&a.getError("email")?2:-1)}}function Q(t,m){t&1&&(r(0,"small",17),o(1," password Is Required "),i())}function U(t,m){t&1&&(r(0,"small",17),o(1," Enter Valid Password"),i())}function W(t,m){if(t&1&&(r(0,"div",5),_(1,Q,2,0,"small",17)(2,U,2,0,"small",17),i()),t&2){let l,a,e=S();n(),d(1,(l=e.registerForm.get("password"))!=null&&l.getError("required")?1:-1),n(),d(2,(a=e.registerForm.get("password"))!=null&&a.getError("pattern")?2:-1)}}function X(t,m){t&1&&(r(0,"div",5)(1,"small",17),o(2,"Password confirmation is incorrect"),i()())}function Z(t,m){t&1&&(r(0,"small",17),o(1," phone Is Required "),i())}function ee(t,m){t&1&&(r(0,"small",17),o(1," Enter Valid phone"),i())}function te(t,m){if(t&1&&(r(0,"div",5),_(1,Z,2,0,"small",17)(2,ee,2,0,"small",17),i()),t&2){let l,a,e=S();n(),d(1,(l=e.registerForm.get("phone"))!=null&&l.getError("required")?1:-1),n(),d(2,(a=e.registerForm.get("phone"))!=null&&a.getError("pattern")?2:-1)}}function re(t,m){t&1&&F(0,"span",15)}function ie(t,m){t&1&&(r(0,"small",16),o(1,"success..."),i())}var ge=(()=>{class t{constructor(){this._AuthServiceService=P(x),this._FormBuilder=P(k),this._Router=P(V),this.disabled=!0,this.Loading=!1,this.resMsg=!1,this.registerForm=this._FormBuilder.group({name:[null,[c.required,c.minLength(3),c.maxLength(20)]],email:[null,[c.required,c.email]],password:[null,[c.required,c.pattern(/^\w{6,}$/)]],rePassword:[null],phone:[null,[c.required,c.pattern(/^01[0125][0-9]{8}$/)]]},{validators:this.repasswordValidation})}repasswordValidation(l){let a=l.get("password")?.value,e=l.get("rePassword")?.value;return a===e?null:{mismatch:!0}}confirmChanges(){return this.registerForm.dirty?confirm("You have unsaved changes!,Are you sure you want to leave?"):!0}confirmForm(){this.registerForm.valid&&(this.Loading=!0,this._AuthServiceService.signOut(this.registerForm.value).subscribe({next:l=>{l.message=="success"&&(this.Loading=!1,this.resMsg=!0,this.registerForm.markAsPristine(),setTimeout(()=>{this._Router.navigate(["./login"])},2e3))},error:l=>{this.Loading=!1}}))}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275cmp=T({type:t,selectors:[["app-register"]],standalone:!0,features:[q],decls:38,vars:29,consts:[[1,"bg-main-light","rounded-4","my-2","p-2","shadow"],[1,"h2","text-main","fw-bold"],[1,"mx-2","my-2","p-2",3,"ngSubmit","formGroup"],["for","name",1,"ms-2","my-1"],["id","name","type","text","formControlName","name",1,"form-control","rounded-5",3,"ngClass"],[1,"alert","alert-danger","mx-auto","w-25","text-center","mt-1","p-0"],["for","email",1,"ms-2","my-1"],["id","email","type","email","formControlName","email",1,"form-control","rounded-5",3,"ngClass"],["for","password",1,"ms-2","my-1"],["id","password","type","password","formControlName","password",1,"form-control","rounded-5",3,"ngClass"],["for","rePassword",1,"ms-2","my-1"],["id","rePassword","type","password","formControlName","rePassword",1,"form-control","rounded-5",3,"ngClass"],["for","phone",1,"ms-2","my-1"],["id","phone","type","tel","formControlName","phone",1,"form-control","rounded-5",3,"ngClass"],["type","submit",1,"btn-main","d-block","ms-auto","mt-2","rounded-5",3,"disabled"],["role","status","aria-hidden","true",1,"fas","fa-spinner","fa-spin"],[1,"text-main","fw-bolder","mx-auto","w-50","text-center","mt1","p-0"],[1,"m-0"]],template:function(a,e){if(a&1&&(r(0,"section",0)(1,"h1",1),o(2,"Register Now:"),i(),r(3,"form",2),N("ngSubmit",function(){return e.confirmForm()}),r(4,"div")(5,"label",3),o(6,"Name:"),i(),F(7,"input",4),r(8,"div"),_(9,z,4,3,"div",5),i()(),r(10,"div")(11,"label",6),o(12,"Email:"),i(),F(13,"input",7),r(14,"div"),_(15,K,3,2,"div",5),i()(),r(16,"div")(17,"label",8),o(18,"Password:"),i(),F(19,"input",9),r(20,"div"),_(21,W,3,2,"div",5),i()(),r(22,"div")(23,"label",10),o(24,"rePassword:"),i(),F(25,"input",11),r(26,"div"),_(27,X,3,0,"div",5),i()(),r(28,"div")(29,"label",12),o(30,"Phone:"),i(),F(31,"input",13),r(32,"div"),_(33,te,3,2,"div",5),i()(),r(34,"button",14),o(35,"Register "),_(36,re,1,0,"span",15),i(),_(37,ie,2,0,"small",16),i()()),a&2){let s,C,u,v,g,w,f,b,p,E;n(3),h("formGroup",e.registerForm),n(4),h("ngClass",y(14,R,!((s=e.registerForm.get("name"))!=null&&s.errors)&&(((s=e.registerForm.get("name"))==null?null:s.touched)||((s=e.registerForm.get("name"))==null?null:s.dirty)),((s=e.registerForm.get("name"))==null?null:s.errors)&&(((s=e.registerForm.get("name"))==null?null:s.touched)||((s=e.registerForm.get("name"))==null?null:s.dirty)))),n(2),d(9,(C=e.registerForm.get("name"))!=null&&C.errors&&((C=e.registerForm.get("name"))!=null&&C.touched||(C=e.registerForm.get("name"))!=null&&C.dirty)?9:-1),n(4),h("ngClass",y(17,R,!((u=e.registerForm.get("email"))!=null&&u.errors)&&(((u=e.registerForm.get("email"))==null?null:u.touched)||((u=e.registerForm.get("email"))==null?null:u.dirty)),((u=e.registerForm.get("email"))==null?null:u.errors)&&(((u=e.registerForm.get("email"))==null?null:u.touched)||((u=e.registerForm.get("email"))==null?null:u.dirty)))),n(2),d(15,(v=e.registerForm.get("email"))!=null&&v.errors&&((v=e.registerForm.get("email"))!=null&&v.touched||(v=e.registerForm.get("email"))!=null&&v.dirty)?15:-1),n(4),h("ngClass",y(20,R,!((g=e.registerForm.get("password"))!=null&&g.errors)&&(((g=e.registerForm.get("password"))==null?null:g.touched)||((g=e.registerForm.get("password"))==null?null:g.dirty)),((g=e.registerForm.get("password"))==null?null:g.errors)&&(((g=e.registerForm.get("password"))==null?null:g.touched)||((g=e.registerForm.get("password"))==null?null:g.dirty)))),n(2),d(21,(w=e.registerForm.get("password"))!=null&&w.errors&&((w=e.registerForm.get("password"))!=null&&w.touched||(w=e.registerForm.get("password"))!=null&&w.dirty)?21:-1),n(4),h("ngClass",y(23,R,!e.registerForm.getError("mismatch")&&(((f=e.registerForm.get("rePassword"))==null?null:f.touched)||((f=e.registerForm.get("rePassword"))==null?null:f.dirty)),e.registerForm.getError("mismatch")&&(((f=e.registerForm.get("rePassword"))==null?null:f.touched)||((f=e.registerForm.get("rePassword"))==null?null:f.dirty)))),n(2),d(27,e.registerForm.getError("mismatch")&&e.registerForm.get("rePassword")&&((b=e.registerForm.get("rePassword"))!=null&&b.touched||(b=e.registerForm.get("rePassword"))!=null&&b.dirty)?27:-1),n(4),h("ngClass",y(26,R,!((p=e.registerForm.get("phone"))!=null&&p.errors)&&(((p=e.registerForm.get("phone"))==null?null:p.touched)||((p=e.registerForm.get("phone"))==null?null:p.dirty)),((p=e.registerForm.get("phone"))==null?null:p.errors)&&(((p=e.registerForm.get("phone"))==null?null:p.touched)||((p=e.registerForm.get("phone"))==null?null:p.dirty)))),n(2),d(33,(E=e.registerForm.get("phone"))!=null&&E.errors&&((E=e.registerForm.get("phone"))!=null&&E.touched||(E=e.registerForm.get("phone"))!=null&&E.dirty)?33:-1),n(),h("disabled",e.registerForm.invalid||e.Loading),n(2),d(36,e.Loading==!0?36:-1),n(),d(37,e.resMsg?37:-1)}},dependencies:[$,G,A,M,D,I,B,L]})}}return t})();export{ge as RegisterComponent};
