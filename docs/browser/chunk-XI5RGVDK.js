import{a as q}from"./chunk-R2YYGW23.js";import{a as O,b as g,c as E,d as M,f as P,g as I,h as T,j as N,l as D}from"./chunk-KPIKQBSM.js";import"./chunk-4VT6TJ2K.js";import{e as F,g as S}from"./chunk-5WYGOTPD.js";import{j as y}from"./chunk-LPJVVXA6.js";import{Bb as x,Cb as u,Kb as d,Rb as b,Ta as l,ca as f,fa as v,ib as s,kb as a,ob as h,sb as r,tb as o,ub as C}from"./chunk-QDCAKHSC.js";function w(e,m){e&1&&(r(0,"div"),d(1,"Details is required."),o())}function R(e,m){e&1&&(r(0,"div"),d(1,"details must be more than 10 char."),o())}function A(e,m){if(e&1&&(r(0,"div",6),s(1,w,2,0,"div",13)(2,R,2,0,"div",13),o()),e&2){let t,n,i=u(2);l(),a("ngIf",(t=i.ordersForm.get("details"))==null?null:t.hasError),l(),a("ngIf",(n=i.ordersForm.get("details"))==null?null:n.hasError("minlength"))}}function G(e,m){if(e&1&&s(0,A,3,2,"div",12),e&2){let t,n=u();a("ngIf",(t=n.ordersForm.get("details"))==null?null:t.invalid)}}function B(e,m){e&1&&(r(0,"div"),d(1,"Phone number is required."),o())}function V(e,m){e&1&&(r(0,"div"),d(1,"Enter valid phone."),o())}function k(e,m){if(e&1&&(r(0,"div",6),s(1,B,2,0,"div",13)(2,V,2,0,"div",13),o()),e&2){let t,n,i=u(2);l(),a("ngIf",(t=i.ordersForm.get("phone"))==null?null:t.hasError("required")),l(),a("ngIf",(n=i.ordersForm.get("phone"))==null?null:n.hasError)}}function j(e,m){if(e&1&&s(0,k,3,2,"div",12),e&2){let t,n=u();a("ngIf",(t=n.ordersForm.get("phone"))==null?null:t.invalid)}}function z(e,m){e&1&&(r(0,"div"),d(1,"City is required."),o())}function L(e,m){if(e&1&&(r(0,"div",6),s(1,z,2,0,"div",13),o()),e&2){let t,n=u(2);l(),a("ngIf",(t=n.ordersForm.get("city"))==null?null:t.hasError)}}function $(e,m){if(e&1&&s(0,L,2,1,"div",12),e&2){let t,n=u();a("ngIf",(t=n.ordersForm.get("city"))==null?null:t.invalid)}}var Z=(()=>{class e{constructor(){this._ActivatedRoute=f(F),this._OrdersService=f(q),this._FormBuilder=f(N),this._Router=f(S),this.ordersForm=this._FormBuilder.group({details:[null,[g.required,g.minLength(10)]],phone:[null,[g.required,g.pattern(/^01[0125][0-9]{8}$/)]],city:[null,[g.required]]}),this.orderId=""}ngOnInit(){this._ActivatedRoute.paramMap.subscribe({next:t=>{this.orderId=t.get("id")}})}onSubmit(){this.ordersForm.valid&&(this.cashSub=this._OrdersService.CashOrders(this.orderId,this.ordersForm.value).subscribe({next:t=>{console.log(t),t.status=="success"&&setTimeout(()=>{this._Router.navigate(["/cashDetails"])},2e3)}}))}ngOnDestroy(){this.cashSub?.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=v({type:e,selectors:[["app-cash"]],standalone:!0,features:[b],decls:22,vars:5,consts:[[1,"h2","text-center","my-2","text-main","fw-bold"],[1,"container"],[1,"bg-main-light","shadow","rounded-4","my-2","p-2",3,"ngSubmit","formGroup"],[1,"form-group"],["for","details",1,"ms-2"],["id","details","formControlName","details",1,"form-control","rounded-5"],[1,"text-danger"],["for","phone",1,"ms-2"],["id","phone","formControlName","phone",1,"form-control","rounded-5"],["for","city",1,"ms-2"],["id","city","formControlName","city",1,"form-control","rounded-5"],["type","submit",1,"btn","my-3","btn-outline-success","rounded-5",3,"disabled"],["class","text-danger",4,"ngIf"],[4,"ngIf"]],template:function(n,i){if(n&1&&(r(0,"section")(1,"h1",0),d(2,"Order Details"),o(),r(3,"div",1)(4,"form",2),x("ngSubmit",function(){return i.onSubmit()}),r(5,"div",3)(6,"label",4),d(7,"Details:"),o(),C(8,"textarea",5),s(9,G,1,1,"div",6),o(),r(10,"div",3)(11,"label",7),d(12,"Phone Number:"),o(),C(13,"input",8),s(14,j,1,1,"div",6),o(),r(15,"div",3)(16,"label",9),d(17,"City:"),o(),C(18,"input",10),s(19,$,1,1,"div",6),o(),r(20,"button",11),d(21,"Confirm Order"),o()()()()),n&2){let p,c,_;l(4),a("formGroup",i.ordersForm),l(5),h(9,(p=i.ordersForm.get("details"))!=null&&p.errors&&((p=i.ordersForm.get("details"))!=null&&p.touched)&&((p=i.ordersForm.get("details"))!=null&&p.dirty)?9:-1),l(5),h(14,(c=i.ordersForm.get("phone"))!=null&&c.errors&&((c=i.ordersForm.get("phone"))!=null&&c.touched)&&((c=i.ordersForm.get("phone"))!=null&&c.dirty)?14:-1),l(5),h(19,(_=i.ordersForm.get("city"))!=null&&_.errors&&((_=i.ordersForm.get("city"))!=null&&_.touched)&&((_=i.ordersForm.get("city"))!=null&&_.dirty)?19:-1),l(),a("disabled",i.ordersForm.invalid)}},dependencies:[D,P,O,E,M,I,T,y],styles:[".grid-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:20px}.order-details[_ngcontent-%COMP%], .cart-items[_ngcontent-%COMP%]{margin-bottom:15px}.order-summary[_ngcontent-%COMP%], .shipping-address[_ngcontent-%COMP%], .user-details[_ngcontent-%COMP%], .cart-item[_ngcontent-%COMP%]{transition:box-shadow .3s ease,transform .2s}.order-summary[_ngcontent-%COMP%]:hover, .shipping-address[_ngcontent-%COMP%]:hover, .user-details[_ngcontent-%COMP%]:hover, .cart-item[_ngcontent-%COMP%]:hover{box-shadow:0 4px 15px #001f0418;transform:scale(1.02);cursor:pointer}.cart-item[_ngcontent-%COMP%]{display:flex;gap:15px;padding:12px;border-bottom:1px solid #e0e0e0}.cart-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:auto;border-radius:4px}.total-price[_ngcontent-%COMP%]{font-size:1.2em;font-weight:700;color:#2c3e50}.btn-main[_ngcontent-%COMP%]{transition:background-color .3s ease}.btn-main[_ngcontent-%COMP%]:hover{background-color:#27ae60;color:#fff}"]})}}return e})();export{Z as CashComponent};
