import{a as q,b as J,c as K}from"./chunk-TGZNFPSG.js";import{a as Q}from"./chunk-7OI7VEL6.js";import{l as X}from"./chunk-CZWYF673.js";import{a as U}from"./chunk-VZUT2HSF.js";import{a as N,c as V,e as $,k as W}from"./chunk-KPIKQBSM.js";import{a as Y}from"./chunk-DAJIJWAN.js";import{c as z,d as G}from"./chunk-CC7GWEDI.js";import"./chunk-4VT6TJ2K.js";import{h as R}from"./chunk-5WYGOTPD.js";import{n as j}from"./chunk-LPJVVXA6.js";import{Bb as I,Cb as S,Fb as P,Kb as s,Lb as l,Nb as D,Ob as F,Pa as C,Pb as A,Rb as L,Sb as k,Ta as n,Tb as B,Xb as d,Yb as u,Zb as T,ca as g,cb as _,fa as w,ib as f,kb as c,ob as E,pa as H,pb as O,qa as b,qb as v,rb as h,sb as a,tb as r,ub as o,xb as M}from"./chunk-QDCAKHSC.js";var Z=(e,i)=>i._id,ee=(e,i)=>i.id,te=e=>["/details",e],ie=()=>[1,2,3,4,5];function ne(e,i){e&1&&o(0,"img",13)}function ae(e,i){e&1&&o(0,"img",14)}function oe(e,i){e&1&&o(0,"img",15)}function re(e,i){e&1&&o(0,"img",16)}function me(e,i){e&1&&o(0,"img",17)}function se(e,i){e&1&&o(0,"img",18)}function le(e,i){e&1&&o(0,"img",19)}function pe(e,i){e&1&&o(0,"img",20)}function ce(e,i){e&1&&o(0,"img",21)}function de(e,i){e&1&&o(0,"img",22)}function ue(e,i){if(e&1&&(o(0,"img",23),a(1,"h3",24),s(2),r()),e&2){let t=S().$implicit;c("src",t.image,C)("alt",t.name),n(2),l(t.name)}}function ge(e,i){if(e&1&&f(0,ue,3,3,"ng-template",9),e&2){let t=i.$implicit;c("id",t._id)}}function _e(e,i){e&1&&(a(0,"span"),o(1,"i",35),r())}function fe(e,i){e&1&&o(0,"i",32)}function ve(e,i){if(e&1){let t=M();a(0,"div",5)(1,"div",25)(2,"div")(3,"div",26),o(4,"img",27),a(5,"h3",28),s(6),r(),a(7,"h4",29),s(8),r(),a(9,"div",30)(10,"span",31),s(11),d(12,"currency"),r(),a(13,"div"),v(14,_e,2,0,"span",null,O),f(16,fe,1,0,"i",32),a(17,"span",33),s(18),r()()()(),a(19,"div")(20,"button",34),I("click",function(){let m=H(t).$implicit,y=S();return b(y.addToCart(m.id))}),s(21),d(22,"translate"),r()()()()()}if(e&2){let t=i.$implicit;n(3),c("routerLink",B(14,te,t.id)),n(),c("src",t.imageCover,C)("alt",t.title),n(2),l(t.category.name),n(2),l(t.title.split(" ",2).join(" ")),n(3),l(T(12,9,t.price,"GBP")),n(3),h(k(16,ie).slice(0,t.ratingsAverage)),n(2),E(16,t.ratingsAverage%1!==0?16:-1),n(2),l(t.ratingsAverage),n(3),l(u(22,12,"HOME.ADD_TO_CART"))}}var Ae=(()=>{class e{constructor(){this._HomeServiceService=g(U),this._CartService=g(Y),this._ToastrService=g(X),this.productList=_([]),this.categoriesList=_([]),this.text=_(""),this.customOptionsMainSlider={animateOut:"fadeOut",animateIn:"fadeIn",loop:!0,rtl:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,autoplay:!0,autoplayHoverPause:!0,autoplayTimeout:1e3,dots:!0,navSpeed:700,navText:["",""],items:1,nav:!1},this.customOptionsCategories={animateOut:"fadeOut",animateIn:"fadeIn",loop:!0,rtl:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,autoplay:!0,autoplayHoverPause:!0,autoplayTimeout:500,dots:!1,navSpeed:700,navText:["",""],responsive:{0:{items:1},400:{items:2},740:{items:3},940:{items:6}},nav:!1}}ngOnInit(){this.productSub=this._HomeServiceService.getAllProducts().subscribe({next:t=>{this.productList.set(t.data)}}),this.categorySub=this._HomeServiceService.getAllCategories().subscribe({next:t=>{this.categoriesList.set(t.data)}})}addToCart(t){this.addtocartSub=this._CartService.addPropductToCart(t).subscribe({next:p=>{console.log(p),this._ToastrService.success("Product added successfully to your cart","Success",{positionClass:"toast-top-start",timeOut:1e3}),this._CartService.cartCount.set(p.numOfCartItems)},error:()=>{this._ToastrService.error("Failed to add product to cart.","Error")}})}ngOnDestroy(){this.productSub?.unsubscribe(),this.categorySub?.unsubscribe(),this.addtocartSub?.unsubscribe()}static{this.\u0275fac=function(p){return new(p||e)}}static{this.\u0275cmp=w({type:e,selectors:[["app-home"]],standalone:!0,features:[L],decls:37,vars:15,consts:[[1,"p-5"],[1,"row","g-0"],[1,"col-md-10"],[3,"options"],["carouselSlide",""],[1,"col-md-2"],["src","./assets/images/grocery-banner-2.jpeg","alt","#","height","150px",1,"w-100"],["src","./assets/images/grocery-banner.png","alt","#","height","150px",1,"w-100"],[1,"text-main","fw-bolder","fs-4","text-center","my-1"],["carouselSlide","",3,"id"],[1,"text-main","fw-bolder","fs-4","my-3","text-center"],["type","search",1,"w-50","form-control","mx-auto","my-2","rounded-5",3,"ngModelChange","ngModel","placeholder"],[1,"row","g-3","my-1"],["src","./assets/images/img4.avif","alt","#","height","300px",1,"w-100"],["src","./assets/images/img2.avif","alt","#","height","300px",1,"w-100"],["src","./assets/images/img3.avif","alt","#","height","300px",1,"w-100"],["src","./assets/images/img1.avif","alt","#","height","300px",1,"w-100"],["src","./assets/images/img5.avif","alt","#","height","300px",1,"w-100"],["src","./assets/images/img6.avif","alt","#","height","300px",1,"w-100"],["src","./assets/images/img7.avif","alt","#","height","300px",1,"w-100"],["src","./assets/images/slider-image-2.jpeg","alt","#","height","300px",1,"w-100"],["src","./assets/images/slider-2.jpeg","alt","#","height","300px",1,"w-100"],["src","./assets/images/slider-image-3.jpeg","alt","#","height","300px",1,"w-100"],["height","250 px","routerLink","/categories",1,"w-100",3,"src","alt"],[1,"text-main","text-center","h6"],[1,"product","card","p-2"],[3,"routerLink"],[1,"w-100",3,"src","alt"],[1,"small","text-main","mt-1","fw-bold","text-center"],[1,"h6","mt-1","text-center"],[1,"d-flex","justify-content-between","align-items-center"],[1,"text-main","fw-bold"],[1,"fas","fa-star-half-stroke","rating-color"],[1,"text-muted"],[1,"btn","btn-main","mt-1","w-100","rounded-4",3,"click"],[1,"fas","fa-star","rating-color"]],template:function(p,m){p&1&&(a(0,"section",0)(1,"div",1)(2,"div",2)(3,"div")(4,"owl-carousel-o",3),f(5,ne,1,0,"ng-template",4)(6,ae,1,0,"ng-template",4)(7,oe,1,0,"ng-template",4)(8,re,1,0,"ng-template",4)(9,me,1,0,"ng-template",4)(10,se,1,0,"ng-template",4)(11,le,1,0,"ng-template",4)(12,pe,1,0,"ng-template",4)(13,ce,1,0,"ng-template",4)(14,de,1,0,"ng-template",4),r()()(),a(15,"div",5)(16,"div"),o(17,"img",6)(18,"img",7),r()()()(),a(19,"section")(20,"h2",8),s(21),d(22,"translate"),r(),a(23,"owl-carousel-o",3),v(24,ge,1,1,null,9,Z),r()(),a(26,"section")(27,"h2",10),s(28),d(29,"translate"),r(),a(30,"input",11),d(31,"translate"),A("ngModelChange",function(x){return F(m.text,x)||(m.text=x),x}),r(),a(32,"div")(33,"div",12),v(34,ve,23,17,"div",5,ee),d(36,"searchPipe"),r()()()),p&2&&(n(4),c("options",m.customOptionsMainSlider),n(17),l(u(22,6,"HOME.POPULAR_CATEGORIES")),n(2),c("options",m.customOptionsCategories),n(),h(m.categoriesList()),n(4),l(u(29,8,"HOME.POPULAR_PRODUCTS")),n(2),P("placeholder",u(31,10,"HOME.SEARCH_BY_NAME")),D("ngModel",m.text),n(4),h(T(36,12,m.productList().slice(0,12),m.text())))},dependencies:[K,J,q,R,j,Q,W,N,V,$,G,z]})}}return e})();export{Ae as HomeComponent};
