<section class="bg-main-light rounded-4 my-2 p-2 shadow">
    <h1 class="h2 text-main fw-bold">Login Now:</h1>
    <form [formGroup]="loginForm" class="ms-2 me-2" (ngSubmit)="confirmForm()">
        <div>
            <label class="ms-2 my-1" for="email">Email:</label>
            <input 
            [ngClass]="{
                'is-valid': !loginForm.get('email')?.errors && (loginForm.get('email')?.touched || loginForm.get('email')?.dirty),
                'is-invalid': loginForm.get('email')?.errors && (loginForm.get('email')?.touched || loginForm.get('email')?.dirty)
            }"
            id="email" type="email" class="form-control rounded-5" formControlName="email">
            <div>
                @if (loginForm.get('email')?.errors &&  (loginForm.get('email')?.touched || loginForm.get('email')?.dirty)) 
                {
                    <div class="alert alert-danger mx-auto w-25 text-center mt-1 p-0">
                        @if (loginForm.get('email')?.getError('required'))  {<small class="m-0"> Email Is Required </small>}
                        @if (loginForm.get('email')?.getError('email'))     {<small class="m-0"> Enter Valid Email</small>}
                    </div>
                }
            </div>
        </div>
        <div>
            <label class="ms-2 my-1" for="password">Password:</label>
            <input 
            [ngClass]="{
                'is-valid': !loginForm.get('password')?.errors && (loginForm.get('password')?.touched || loginForm.get('password')?.dirty),
                'is-invalid': loginForm.get('password')?.errors && (loginForm.get('password')?.touched || loginForm.get('password')?.dirty)
            }"
            id="password" type="password" class="form-control rounded-5" formControlName="password">
            <div>
                @if (loginForm.get('password')?.errors &&  (loginForm.get('password')?.touched || loginForm.get('password')?.dirty)) 
                {
                    <div class="alert alert-danger mx-auto w-25 text-center mt-1 p-0">
                        @if (loginForm.get('password')?.getError('required'))  {<small class="m-0"> password Is Required </small>}
                        @if (loginForm.get('password')?.getError('pattern'))     {<small class="m-0"> Enter Valid Password</small>}
                    </div>
                }
            </div>
        </div>
            <div class="d-flex align-content-center justify-content-end my-2 gap-1">
                <a class="link-danger my-2 me-1" routerLink="/forgot">Forgot Password</a>
                <button [disabled]="loginForm.invalid || Loading" type="submit" class="btn-main rounded-5">login
                    @if (Loading==true) {<span class="fas fa-spinner fa-spin" role="status" aria-hidden="true"></span> }
                </button>
            </div>
        <!-- @if (errMsg) {<small class="alert alert-danger mx-auto w-50 text-center mt1 p-0">{{errMsg}}</small>} -->
        @if (resMsg) {<small class="text-main fw-bolder mx-auto w-50 text-center mt1 p-0">success...</small>}
    </form>
</section>

